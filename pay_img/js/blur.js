var canvas_width=window.innerWidth;var canvas_height=window.innerHeight;var canvas=document.getElementById("canvas");var context=canvas.getContext("2d");canvas.width=canvas_width;canvas.height=canvas_height;var thenAnimation;var images=["dadi.jpg","dagou.jpg","ekidu.jpg","houzi.jpg","huli.jpg","lily.jpg","shanshan.jpg","zhende.jpg","tulang.jpg"];var image=new Image();var radius=50;var clip={x:100,y:200,r:radius};var flag=true;image.src="img/"+images[Math.floor(Math.random()*images.length)];document.getElementById("blur_img").src=image.src;image.width=canvas_width;image.height=canvas_height;image.onload=function(){init()};function init(){clip={x:Math.random()*(canvas_width-2*radius)+radius,y:Math.random()*(canvas_height-2*radius)+radius,r:radius};draw(image,clip)}function draw(a,b){context.clearRect(0,0,canvas_width,canvas_height);context.save();context.beginPath();context.arc(b.x,b.y,b.r,0,Math.PI*2,false);context.clip();context.drawImage(a,0,0,canvas_width,canvas_height);context.restore()}function reset(){flag=true;if(thenAnimation){clearInterval(thenAnimation)}init()}function show(){if(flag){thenAnimation=setInterval(function(){clip.r+=20;if(clip.r>2*Math.max(canvas_width,canvas_height)){clearInterval(thenAnimation)}draw(image,clip)},30);flag=false}};